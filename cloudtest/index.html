<html>
<title>Eleven Table Tennis Cloud Settings Viewer by SolidSlime</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">

<meta property="og:type" content="website">
<meta property="og:url" content="https://vrpingpong.net">
<meta property="og:site_name" content="VRPingPong">
<meta property="og:image" itemprop="image primaryImageOfPage" content="/favicon/favicon-32x32.png">
<meta name="description" content="Eleven Table Tennis Cloud Settings Viewer by SolidSlime">

<link href="/dist/css/bootstrap.min.css" rel="stylesheet">

<head>
  <script>
    function getSettings(event) {
      event.preventDefault();
      str = event.target.elements.userId.value;
      type = event.target.elements.type.value;
      fileName = event.target.elements?.fileName?.value;
      environment = event.target.elements.environment.value;
      if (str.length === 0) {
        document.getElementById("txtResult").value = "Invalid input";
        return;
      } else {
        document.getElementById("txtResult").value = "Loading";
        document.getElementById("highestId").value = "";
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
            var json = JSON.parse(this.responseText);
            if (type === "paddleSettings" || type === "ballMachines") {

              json.listing = json.listing.sort(function (a, b) {
                return parseInt(b[0]) - parseInt(a[0]);
              })
              for (let i = 0; i < json.listing.length; i++) {
                let d = new Date(parseInt(json.listing[i][1]));
                json.listing[i][1] = d;
              }
            }

            var str = JSON.stringify(json, null, 2);
            document.getElementById("txtResult").value = str;
          }
        };
        xmlhttp.open("GET", "getSettings.php?environment=" + environment + "&type=" + type + "&userId=" + str + "&fileName=" + fileName, true);
        xmlhttp.send();
      }
    }

    function copyTxt() {
      // Get the text field
      var copyText = document.getElementById("txtResult");

      // Select the text field
      copyText.select();
      copyText.setSelectionRange(0, 99999); // For mobile devices

      // Copy the text inside the text field
      navigator.clipboard.writeText(copyText.value);

      // Alert the copied text
      alert("Result copied to clipboard");
    }

  </script>
</head>

<body>


  <div class="container">
    <h2> Eleven Table Tennis Cloud Settings Viewer by <a href="https://vrpingpong.net" target="_blank">SolidSlime</a>
    </h2>
    <small id="userIdHelp" class="form-text text-muted">Hint: to find your numeric player ID, open your player page on
      <a href="https://elevenvr.net/search" target="_blank">elevenvr.net</a> and look at the URL </small>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-sm">
        <h4> Get list of paddle settings </h4>
        <form onSubmit="getSettings(event)">
          <div class="form-row">
            <div class="form-group col-md-4">
              <label for="userId">Numeric Player ID:</label>
              <input type="text" class="form-control-sm" id="userId" name="userId" value="4008" />
            </div>
            <div class="form-group col-md-4 d-none">
              <label for="fileName">Numeric Setting ID</label>
              <input type="text" class="form-control-sm" id="fileName" name="fileName" value="1" />
            </div>

            <div class="form-group col-md-4">
              <div class="form-check">
                <input class="form-check-input" type="radio" name="environment" id="radioProduction" value="production"
                  checked>
                <label class="form-check-label" for="radioProduction">
                  Live
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="environment" value="dev" id="radioDebug">
                <label class="form-check-label" for="radioDebug">
                  Beta
                </label>
              </div>
            </div>

            <div class="form-group col-md-4">
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>
          </div>
          <input type="hidden" id="type" value="paddleSettings" />
        </form>
      </div>

      <div class="col-sm">
        <h4> Get one paddle setting </h4>

        <form onSubmit="getSettings(event)">
          <div class="form-row">
            <div class="form-group col-md-4">
              <label for="userId">Numeric Player ID</label>
              <input type="text" class="form-control-sm" id="userId" name="userId" value="4008" />
            </div>
            <div class="form-group col-md-4">
              <label for="fileName">Numeric Setting ID</label>
              <input type="text" class="form-control-sm" id="fileName" name="fileName" value="1" />
            </div>

            <div class="form-group col-md-4">
              <div class="form-check">
                <input class="form-check-input" type="radio" name="environment" id="radioProduction" value="production"
                  checked>
                <label class="form-check-label" for="radioProduction">
                  Live
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="environment" value="dev" id="radioDebug">
                <label class="form-check-label" for="radioDebug">
                  Beta
                </label>
              </div>
            </div>

            <div class="form-group col-md-4">
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>
          </div>
          <input type="hidden" id="type" value="paddleSetting" />
        </form>
      </div>


      <div class="col-sm">
        <h4> Get list of ball machines</h4>

        <form onSubmit="getSettings(event)">
          <div class="form-row">
            <div class="form-group col-md-4">
              <label for="userId">Numeric Player ID</label>
              <input type="text" class="form-control-sm" id="userId" name="userId" value="4008" />
            </div>
            <div class="form-group col-md-4 d-none">
              <label for="fileName">Numeric Setting ID</label>
              <input type="text" class="form-control-sm" id="fileName" name="fileName" value="1" />
            </div>

            <div class="form-group col-md-4">
              <div class="form-check">
                <input class="form-check-input" type="radio" name="environment" id="radioProduction" value="production"
                  checked>
                <label class="form-check-label" for="radioProduction">
                  Live
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="environment" value="dev" id="radioDebug">
                <label class="form-check-label" for="radioDebug">
                  Beta
                </label>
              </div>
            </div>

            <div class="form-group col-md-4">
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>
          </div>
          <input type="hidden" id="type" value="ballMachines" />
        </form>
      </div>


      <div class="col-sm">
        <h4> Get one ball machine </h4>

        <form onSubmit="getSettings(event)">
          <div class="form-row">
            <div class="form-group col-md-4">
              <label for="userId">Numeric Player ID</label>
              <input type="text" class="form-control-sm" id="userId" name="userId" value="4008" />
            </div>
            <div class="form-group col-md-4">
              <label for="fileName">Numeric Setting ID</label>
              <input type="text" class="form-control-sm" id="fileName" name="fileName" value="1" />
            </div>

            <div class="form-group col-md-4">
              <div class="form-check">
                <input class="form-check-input" type="radio" name="environment" id="radioProduction" value="production"
                  checked>
                <label class="form-check-label" for="radioProduction">
                  Live
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="environment" value="dev" id="radioDebug">
                <label class="form-check-label" for="radioDebug">
                  Beta
                </label>
              </div>
            </div>

            <div class="form-group col-md-4">
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>
          </div>
          <input type="hidden" id="type" value="ballMachine" />
        </form>
      </div>
    </div>
  </div>

  <div class="container">
    <p>Result:
    <div id="highestId"></div>
    </p>
    <button onclick="copyTxt()">Copy Text</button>
    <textarea id="txtResult" name="txtResult" style="width: 100%; overflow:scroll" rows="50"></textarea>
  </div>

  <script src=" /dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>